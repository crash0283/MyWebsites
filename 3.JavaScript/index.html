<!doctype html>
<html>
<head>
  <title>
    Learning JavaScript
  </title>

  <meta charset="utf-8" />
  <meta http-equiv="content-type" content="text/html" charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    #box {
      background-color: red;
      height: 200px;
      width: 200px;
      display: none;

    }

    body {

      background-color: black;

    }

    #time {
      font-family: serif;
      font-weight: bold;
      
    }

    #yourTime {

      font-family: serif;
      font-size: 2em;
      text-align: center;
      color: white;

    }

    #bestTime {
      font-family: serif;
      font-size: 2em;
      text-align: center;
      color: white;
    }
  </style>

</head>


<body>

  <p id="yourTime">Your Time: <span id="time"></span></p>
  <p id="bestTime">Best Time: <span id="bTime">10</span></p>

  <div id="box"></div>

<script type="text/javascript">

  var clickedTime;
  var createdTime;
  var reactionTime;
  var currentBestTime;


  function  getRandomColor() {

    var letters = "0123456789ABCDEF".split("");
    var color = "#";
    for (var i = 0; i < 6; i++) {
      color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
  }

  function randDisplay() {

    var randTime = Math.random();
    randTime *= 2000;

    var randPLeft = Math.floor(Math.random() * (1000 - 1 + 1)) + 1;
    var randPTop = Math.floor(Math.random() * (500 - 1 + 1)) + 1;
    var randShape = Math.floor(Math.random() * 2);

    currentBestTime = document.getElementById("bTime").innerHTML;

    var myBox = document.getElementById("box");

    myBox.style.backgroundColor = getRandomColor();

    myBox.style.position = "relative";
    myBox.style.left = Math.round(randPLeft) + "px";
    myBox.style.top = Math.round(randPTop) + "px";

    if (randShape == 0) {
      
      myBox.style.borderRadius = 0;
      
    } else if (randShape == 1) {

      myBox.style.borderRadius = "100px";
    }


    setTimeout(function() {
      myBox.style.display="block";
      createdTime = Date.now();
    },randTime);
 

  }

  document.getElementById("box").onclick=function () {
    clickedTime = Date.now();
    reactionTime = (clickedTime - createdTime)/1000;
    this.style.display="none";
    randDisplay();
    document.getElementById("time").innerHTML=reactionTime;

    if(reactionTime < currentBestTime) {
      document.getElementById("bTime").innerHTML=reactionTime;
    }
  
  }

  randDisplay();


</script>
</body>
</html>
